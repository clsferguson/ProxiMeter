{% extends "base.html" %}

{% block title %}Add Stream - ProxiMeter{% endblock %}

{% block header_class %}header-landing{% endblock %}

{% block content %}
<main class="container">
  <div class="form-container">
    <h2>Add New Stream</h2>
    
    {% if error %}
    <div class="error-banner" role="alert">
      <strong>Error:</strong> {{ error }}
    </div>
    {% endif %}
    
    <form method="post" action="/streams/new" class="stream-form">
      <div class="form-group">
        <label for="name">Stream Name</label>
        <input 
          type="text" 
          id="name" 
          name="name" 
          value="{{ name }}"
          required 
          minlength="1" 
          maxlength="50"
          placeholder="e.g., Front Door Camera"
          aria-describedby="name-help"
        >
        <small id="name-help" class="form-help">
          1-50 characters, must be unique (case-insensitive)
        </small>
      </div>
      
      <div class="form-group">
        <label for="rtsp_url">RTSP URL</label>
        <input 
          type="text" 
          id="rtsp_url" 
          name="rtsp_url" 
          value="{{ rtsp_url }}"
          required
          placeholder="rtsp://192.168.1.100/stream"
          aria-describedby="url-help"
        >
        <small id="url-help" class="form-help">
          Must start with rtsp:// and include a valid host
        </small>
        <small class="form-warning">
          âš  Credentials in URL will be stored in plaintext. LAN-only use recommended.
        </small>
      </div>
      
      <div class="form-actions">
        <button type="submit" class="btn btn-primary">Add Stream</button>
        <a href="/" class="btn btn-secondary">Cancel</a>
      </div>
    </form>
  </div>
</main>
{% endblock %}
