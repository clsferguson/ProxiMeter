# Data Model: Frontend React Migration

**Date**: 2025-10-19  
**Feature**: 003-frontend-react-migration  

## Entities

### Stream
Represents an RTSP video stream configuration managed through the UI.

**Fields**:
- `id`: string (unique identifier, generated by backend)
- `name`: string (display name, 1-100 characters)
- `rtsp_url`: string (RTSP URL, validated format)
- `enabled`: boolean (whether stream is active)
- `threshold`: number (detection threshold, 0.0-1.0)

**Validation Rules**:
- `name`: Required, non-empty, max 100 chars
- `rtsp_url`: Required, valid RTSP URL format (rtsp://...)
- `enabled`: Required, boolean
- `threshold`: Optional, number between 0.0 and 1.0, default 0.5

**Relationships**:
- None (standalone entity)

**State Transitions**:
- Created: New stream added via form
- Updated: Modified via edit form
- Deleted: Removed from system
- Enabled/Disabled: Toggled via UI controls

**Usage in UI**:
- Dashboard: Display list of streams with status
- Add Form: Create new stream
- Edit Form: Modify existing stream
- Play Page: Select stream for viewing

## UI-Specific Models

### StreamStatus
Real-time status information for display.

**Fields**:
- `stream_id`: string
- `fps`: number (current processing FPS)
- `last_activity`: Date (timestamp of last frame)
- `is_online`: boolean (RTSP connection status)

### FormState
Form validation and submission state.

**Fields**:
- `isSubmitting`: boolean
- `errors`: Record<string, string> (field validation errors)
- `values`: Partial<Stream> (current form values)

## API Contracts

See `/contracts/openapi.yaml` for complete API specification.

## Persistence

Streams are persisted to `config.yml` on the backend. Frontend maintains temporary state in React components and fetches fresh data on navigation.